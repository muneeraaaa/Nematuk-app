<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login / Sign Up | Ne'matuk</title>

    <!-- Swiper.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />

    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Social Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

<style>
    /* --- "Sage & Earth Tones" Color Scheme --- */
    :root {
        --bg-light: #FFFEFC; /* Off-white / Cream */
        --primary-accent: #B0D9B1; /* Light Sage Green */
        --secondary-accent: #86A789; /* Muted Sage Green */
        --text-dark: #4A4A4A; /* Dark Brownish Grey */
        --glass-bg: rgba(255, 254, 252, 0.7); /* very light off-white */
        --glass-border: rgba(176, 217, 177, 0.8); /* Lighter sage border */
        --accent-gradient: linear-gradient(90deg, var(--primary-accent) 0%, var(--secondary-accent) 100%);
        --uae-green: #1b5e20;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--bg-light);
        color: var(--text-dark);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        overflow: hidden;
        padding: 1rem;
    }

    #particles-js { 
        position: absolute; 
        width: 100%; 
        height: 100%; 
        top: 0; 
        left: 0; 
        z-index: 0; 
    }
    
    #particles-js canvas {
        background-color: var(--bg-light);
    }

    .auth-container {
        position: relative;
        z-index: 2;
        width: 100%;
        max-width: 520px;
        padding: 2.5rem 3rem;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 24px;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        overflow: hidden;
    }

    .auth-tabs { display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem; }
    .tab-link {
        background: none; border: none; color: var(--text-dark); font-family: 'Poppins', sans-serif;
        font-size: 1.2rem; font-weight: 600; padding: 0.5rem 1rem; cursor: pointer;
        opacity: 0.6; transition: all 0.3s ease; position: relative;
    }
    .tab-link::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 0; height: 3px; background: var(--accent-gradient); transition: width 0.3s ease; }
    .tab-link.active { opacity: 1; }
    .tab-link.active::after { width: 100%; }

    .swiper.auth-swiper { width: 100%; min-height: 540px; }
    .swiper-slide { display: flex; align-items: center; justify-content: center; }

    .form-content { 
        width: 100%; 
        max-height: 65vh; 
        overflow-y: auto; 
        padding-right: 15px; 
        margin-right: -15px; 
        background: rgba(255, 255, 255, 0.4);
        border-radius: 12px;
        padding: 1.5rem;
    }
    .form-content::-webkit-scrollbar { width: 8px; }
    .form-content::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); border-radius: 4px; }
    .form-content::-webkit-scrollbar-thumb { background: var(--accent-gradient); border-radius: 4px; }
    .form-content::-webkit-scrollbar-thumb:hover { background: var(--secondary-accent); }

    .form-title { text-align: center; font-size: 2rem; margin-bottom: 0.5rem; color: var(--secondary-accent); }
    .form-subtitle { text-align: center; font-size: 0.9rem; opacity: 0.8; margin-bottom: 2rem; }
    
    .options-toggle { display: flex; justify-content: center; background: rgba(0,0,0,0.05); border-radius: 50px; padding: 0.25rem; margin-bottom: 1.5rem; }
    .option-btn { flex: 1; background: transparent; border: none; color: var(--text-dark); opacity: 0.7; padding: 0.5rem; border-radius: 50px; cursor: pointer; font-weight: 500; transition: all 0.3s ease; }
    .option-btn.active { background: var(--primary-accent); opacity: 1; box-shadow: 0 0 10px var(--primary-accent); color: #fff; }

    .input-group { display: flex; align-items: center; background: rgba(255,255,255,0.6); border: 1px solid var(--glass-border); border-radius: 12px; margin-bottom: 1rem; padding: 0 1rem; transition: all 0.3s ease; }
    .input-group:focus-within { box-shadow: 0 0 15px var(--secondary-accent); border-color: var(--secondary-accent); }
    .input-group i { color: var(--secondary-accent); opacity: 0.8; margin-right: 0.75rem; }
    .input-group input, .input-group select { width: 100%; background: none; border: none; outline: none; padding: 1rem 0; color: var(--text-dark); font-size: 1rem; font-family: 'Poppins', sans-serif; }
    .input-group input::placeholder { color: var(--text-dark); opacity: 0.5; }
    .input-group select { cursor: pointer; }
    .input-group select option { background: var(--bg-light); color: var(--text-dark); }
    
    .submit-btn { display: flex; width: 100%; align-items: center; justify-content: center; padding: 1rem; margin-top: 1.5rem; border-radius: 12px; background: var(--accent-gradient); border: none; color: var(--text-dark); font-weight: 600; font-size: 1.1rem; font-family: 'Poppins', sans-serif; transition: all 0.4s ease; cursor: pointer; }
    .submit-btn:hover { box-shadow: 0 0 20px var(--primary-accent), 0 0 30px var(--secondary-accent); transform: translateY(-3px) scale(1.02); }
    
    /* UAE Pass Button */
    .uae-pass-btn {
        background: var(--uae-green);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }
    .uae-pass-btn:hover {
        background: #2e7d32;
        box-shadow: 0 0 20px var(--uae-green);
    }
    .uae-pass-btn i {
        font-size: 1.2rem;
    }

    /* Login Method Toggle */
    .login-method-toggle {
        display: flex;
        justify-content: center;
        background: rgba(0,0,0,0.05);
        border-radius: 50px;
        padding: 0.25rem;
        margin-bottom: 1.5rem;
    }
    .method-btn {
        flex: 1;
        background: transparent;
        border: none;
        color: var(--text-dark);
        opacity: 0.7;
        padding: 0.5rem;
        border-radius: 50px;
        cursor: pointer;
        font-weight: 500;
        font-size: 0.85rem;
        transition: all 0.3s ease;
    }
    .method-btn.active {
        background: var(--primary-accent);
        opacity: 1;
        box-shadow: 0 0 10px var(--primary-accent);
        color: #fff;
    }

    .divider {
        display: flex;
        align-items: center;
        margin: 1.5rem 0;
        color: var(--text-dark);
        opacity: 0.6;
    }
    .divider::before,
    .divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background: rgba(0,0,0,0.1);
    }
    .divider span {
        padding: 0 1rem;
        font-size: 0.9rem;
    }

    .hidden { display: none; }

    /* Language Toggle Button */
    .language-toggle {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 25px;
        padding: 8px 16px;
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        font-size: 1rem;
        color: var(--text-dark);
        cursor: pointer;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
    }
    
    .language-toggle:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    /* File Upload Styling */
    .file-upload-group {
        margin-bottom: 1rem;
    }
    .file-upload-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
        color: var(--text-dark);
        opacity: 0.8;
    }
    .file-upload-container {
        display: flex;
        align-items: center;
        background: rgba(255,255,255,0.6);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 0 1rem;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    .file-upload-container:hover {
        box-shadow: 0 0 15px var(--secondary-accent);
        border-color: var(--secondary-accent);
    }
    .file-upload-container i {
        color: var(--secondary-accent);
        opacity: 0.8;
        margin-right: 0.75rem;
    }
    .file-upload-input {
        display: none;
    }
    .file-upload-text {
        flex: 1;
        padding: 1rem 0;
        color: var(--text-dark);
        opacity: 0.7;
        font-family: 'Poppins', sans-serif;
    }
    .file-upload-text.has-file {
        opacity: 1;
        color: var(--secondary-accent);
        font-weight: 500;
    }
    .upload-status {
        font-size: 0.8rem;
        margin-top: 0.25rem;
        color: var(--secondary-accent);
    }

    @media (max-width: 540px) { 
        .auth-container { padding: 2rem 1.5rem; } 
        .form-title { font-size: 1.8rem; } 
        .form-content { padding-right: 8px; margin-right: -8px; } 
        .method-btn { font-size: 0.75rem; padding: 0.4rem; }
    }
</style>

</head>

<body>
    <div id="particles-js"></div>
    
    <!-- Language Toggle Button -->
    <button id="language-toggle" class="language-toggle">EN</button>

    <div class="auth-container">
        
        <div class="auth-tabs">
            <button class="tab-link" data-slide="0" id="login-tab">Login</button>
            <button class="tab-link active" data-slide="1" id="signup-tab">Sign Up</button>
        </div>

        <div class="swiper auth-swiper">
            <div class="swiper-wrapper">
                <!-- Login Slide -->
                <div class="swiper-slide" id="login-slide">
                    <div class="form-content">
                        <h2 class="form-title" id="login-title">Welcome Back</h2>
                        <p class="form-subtitle" id="login-subtitle">Login to continue your journey</p>
    
                        <div class="options-toggle login-options">
                            <button class="option-btn active" data-form="user" id="user-option">User</button>
                            <button class="option-btn" data-form="business" id="business-option">Business</button>
                            <button class="option-btn" data-form="employee" id="employee-option">Government Employee</button>
                        </div>
    
                        <!-- User Login Form -->
                        <form id="user-login-form" action="user.html">
                            <div class="login-method-toggle">
                                <button type="button" class="method-btn active" data-method="uaepass">UAE Pass</button>
                                <button type="button" class="method-btn" data-method="passport">Passport</button>
                            </div>
                            
                            <div id="uaepass-login-method">
                                <button type="button" class="submit-btn uae-pass-btn">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>Login with UAE Pass</span>
                                </button>
                            </div>
                            
                            <div id="passport-login-method" class="hidden">
                                <div class="input-group"><i class="fas fa-user"></i><input type="text" placeholder="Full Name" value="Muneera Kamil"></div>
                                <div class="input-group"><i class="fas fa-passport"></i><input type="text" placeholder="Passport Number" value="A1234567"></div>
                                <button type="submit" class="submit-btn" id="user-login-btn">Login</button>
                            </div>
                        </form>

                        <!-- Business Login Form -->
                        <form id="business-login-form" class="hidden" action="business.html">
                            <div class="input-group"><i class="fas fa-file-alt"></i><input type="text" placeholder="Trade License #" value="CN-1234567"></div>
                            <div class="input-group"><i class="fas fa-envelope"></i><input type="email" placeholder="Business Email" value="demo.cafe@example.com"></div>
                            <div class="input-group"><i class="fas fa-lock"></i><input type="password" placeholder="Password" value="businesspassword"></div>
                            <button type="submit" class="submit-btn" id="business-login-btn">Login as Business</button>
                        </form>
    
                        <!-- Employee Login Form -->
                        <form id="employee-login-form" class="hidden" action="admin.html">
                            <div class="input-group"><i class="fas fa-user-tie"></i><input type="text" placeholder="Employee ID" value="EMP-2024-007"></div>
                            <div class="input-group"><i class="fas fa-lock"></i><input type="password" placeholder="Password" value="adminpassword"></div>
                            <button type="submit" class="submit-btn" id="employee-login-btn">Login as Employee</button>
                        </form>
                    </div>
                </div>

                <!-- Sign Up Slide -->
                <div class="swiper-slide" id="signup-slide">
                    <div class="form-content">
                        <h2 class="form-title" id="signup-title">Join Ne'matuk</h2>
                        <p class="form-subtitle" id="signup-subtitle">Start your journey with us today</p>
                        
                        <div class="options-toggle signup-options">
                            <button class="option-btn active" data-form="user-signup" id="user-signup-option">User</button>
                            <button class="option-btn" data-form="business-signup" id="business-signup-option">Business</button>
                            <button class="option-btn" data-form="employee-signup" id="employee-signup-option">Government Employee</button>
                        </div>
    
                        <!-- User Signup Form -->
                        <form id="user-signup-form" action="user.html">
                            <button type="button" class="submit-btn uae-pass-btn">
                                <i class="fas fa-shield-alt"></i>
                                <span>Sign up with UAE Pass</span>
                            </button>
                            
                            <div class="divider">
                                <span>or</span>
                            </div>
                            
                            <div class="input-group"><i class="fas fa-user"></i><input type="text" placeholder="Full Name" value="Muneera Kamil"></div>
                            <div class="input-group"><i class="fas fa-passport"></i><input type="text" placeholder="Passport Number" value="A1234567"></div>
                            <button type="submit" class="submit-btn" id="user-signup-btn">Create Account</button>
                        </form>

                        <!-- Business Signup Form -->
                        <form id="business-signup-form" class="hidden" action="business.html">
                            <div class="input-group"><i class="fas fa-store"></i><input type="text" placeholder="Business Name" value="Artisan Bakes Cafe"></div>
                            <div class="input-group"><i class="fas fa-file-alt"></i><input type="text" placeholder="Trade License Number" value="CN-1234567"></div>
                            <div class="input-group"><i class="fas fa-phone"></i><input type="tel" placeholder="Contact Number" value="+971 XX XXX XXXX"></div>
                            <div class="input-group"><i class="fas fa-envelope"></i><input type="email" placeholder="Business Email" value="business@example.com"></div>
                            <div class="input-group">
                                <i class="fas fa-tags"></i>
                                <select>
                                    <option value="">Select category</option>
                                    <option value="restaurant">Restaurant</option>
                                    <option value="retail">Retail</option>
                                    <option value="services">Services</option>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="education">Education</option>
                                    <option value="technology">Technology</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <!-- Document Upload Section -->
                            <div class="file-upload-group">
                                <label class="file-upload-label">Upload Required Documents</label>
                                <div class="file-upload-container" onclick="document.getElementById('trade-license-file').click()">
                                    <i class="fas fa-file-upload"></i>
                                    <span class="file-upload-text" id="trade-license-text">Upload Trade License Copy</span>
                                    <input type="file" id="trade-license-file" class="file-upload-input" accept=".pdf,.jpg,.jpeg,.png" onchange="updateFileName(this, 'trade-license-text')">
                                </div>
                            </div>
                            
                            <div class="file-upload-group">
                                <div class="file-upload-container" onclick="document.getElementById('business-registration-file').click()">
                                    <i class="fas fa-file-upload"></i>
                                    <span class="file-upload-text" id="business-registration-text">Upload Business Registration Certificate</span>
                                    <input type="file" id="business-registration-file" class="file-upload-input" accept=".pdf,.jpg,.jpeg,.png" onchange="updateFileName(this, 'business-registration-text')">
                                </div>
                            </div>
                            
                            <div class="file-upload-group">
                                <div class="file-upload-container" onclick="document.getElementById('owner-id-file').click()">
                                    <i class="fas fa-file-upload"></i>
                                    <span class="file-upload-text" id="owner-id-text">Upload Owner ID/Passport Copy</span>
                                    <input type="file" id="owner-id-file" class="file-upload-input" accept=".pdf,.jpg,.jpeg,.png" onchange="updateFileName(this, 'owner-id-text')">
                                </div>
                            </div>
                            
                            <div class="input-group"><i class="fas fa-lock"></i><input type="password" placeholder="Create Password" value="business123"></div>
                            <button type="submit" class="submit-btn" id="business-signup-btn">Register & Continue</button>
                        </form>
                        
                        <!-- Employee Signup Form -->
                        <form id="employee-signup-form" class="hidden" action="admin.html">
                            <div class="input-group"><i class="fas fa-user-tie"></i><input type="text" placeholder="Full Name" value="Doaa Alalimi"></div>
                            <div class="input-group"><i class="fas fa-envelope"></i><input type="email" placeholder="Email Address" value="d.alalimi@example.com"></div>
                            <div class="input-group"><i class="fas fa-building"></i><input type="text" placeholder="administrative District" value="Ministry Of Climate Change & Environment"></div>
                            <div class="input-group"><i class="fas fa-id-card"></i><input type="text" placeholder="Employee ID" value="EMP-2024-007"></div>
                            <div class="input-group"><i class="fas fa-lock"></i><input type="password" placeholder="Create Password" value="employeepass"></div>
                            <button type="submit" class="submit-btn" id="employee-signup-btn">Register as Employee</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Language translation data
        const translations = {
            en: {
                'login-title': 'Welcome Back',
                'login-subtitle': 'Login to continue your journey',
                'user-option': 'User',
                'business-option': 'Business',
                'employee-option': 'Government Employee',
                'user-login-btn': 'Login',
                'business-login-btn': 'Login as Business',
                'employee-login-btn': 'Login as Employee',
                'signup-title': 'Join Ne\'matuk',
                'signup-subtitle': 'Start your journey with us today',
                'user-signup-option': 'User',
                'business-signup-option': 'Business',
                'employee-signup-option': 'Government Employee',
                'user-signup-btn': 'Create Account',
                'business-signup-btn': 'Register & Continue',
                'employee-signup-btn': 'Register as Employee',
                'login-tab': 'Login',
                'signup-tab': 'Sign Up'
            },
            ar: {
                'login-title': 'مرحبًا بعودتك',
                'login-subtitle': 'سجّل الدخول لمواصلة رحلتك',
                'user-option': 'مستخدم',
                'business-option': 'محل تجاري',
                'employee-option': 'موظف حكومي',
                'user-login-btn': 'تسجيل الدخول',
                'business-login-btn': 'تسجيل الدخول كمحل تجاري',
                'employee-login-btn': 'تسجيل الدخول كموظف حكومي',
                'signup-title': 'انضم إلى نعمتك',
                'signup-subtitle': 'ابدأ رحلتك معنا اليوم',
                'user-signup-option': 'مستخدم',
                'business-signup-option': 'محل تجاري',
                'employee-signup-option': 'موظف حكومي',
                'user-signup-btn': 'إنشاء حساب',
                'business-signup-btn': 'التسجيل والمتابعة',
                'employee-signup-btn': 'التسجيل كموظف حكومي',
                'login-tab': 'تسجيل الدخول',
                'signup-tab': 'إنشاء حساب'
            }
        };

        // Initialize language from localStorage or default to English
        const storedLanguage = localStorage.getItem('siteLanguage') || 'en';
        let currentLanguage = storedLanguage;

        // Apply translations based on current language
        function applyTranslations() {
            // Update all translatable elements
            Object.keys(translations[currentLanguage]).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = translations[currentLanguage][key];
                }
            });

            // Update button text
            const langButton = document.getElementById('language-toggle');
            langButton.textContent = currentLanguage === 'en' ? 'EN' : 'AE';
            
            // Update font for Arabic
            if (currentLanguage === 'ar') {
                document.body.style.fontFamily = "'Amiri', serif";
            } else {
                document.body.style.fontFamily = "'Poppins', sans-serif";
            }
        }

        // Toggle language function
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
            localStorage.setItem('siteLanguage', currentLanguage);
            applyTranslations();
        }

        document.addEventListener('DOMContentLoaded', () => {
            particlesJS("particles-js", { 
                "particles": { 
                    "number": { 
                        "value": 8, 
                        "density": { 
                            "enable": true, 
                            "value_area": 800 
                        } 
                    }, 
                    "color": { 
                        "value": ["#A450E4", "#49E7CD"] 
                    }, 
                    "shape": { 
                        "type": "circle" 
                    }, 
                    "opacity": { 
                        "value": 0.2, 
                        "random": true 
                    }, 
                    "size": { 
                        "value": 150, 
                        "random": true, 
                        "anim": { 
                            "enable": true, 
                            "speed": 1.5, 
                            "size_min": 50, 
                            "sync": false 
                        } 
                    }, 
                    "line_linked": { 
                        "enable": false 
                    }, 
                    "move": { 
                        "enable": true, 
                        "speed": 1.5, 
                        "direction": "none", 
                        "random": true, 
                        "straight": false, 
                        "out_mode": "out", 
                        "bounce": false 
                    } 
                }, 
                "interactivity": { 
                    "detect_on": "canvas", 
                    "events": { 
                        "onhover": { 
                            "enable": false 
                        }, 
                        "onclick": { 
                            "enable": false 
                        }, 
                        "resize": true 
                    } 
                }, 
                "retina_detect": true 
            });
        
            const authSwiper = new Swiper('.auth-swiper', {
                effect: 'fade',
                allowTouchMove: false,
                initialSlide: 1, // Start on Sign Up page
                speed: 500,
                fadeEffect: { crossFade: true }
            });

            const tabs = document.querySelectorAll('.tab-link');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const slideIndex = parseInt(tab.dataset.slide, 10);
                    authSwiper.slideTo(slideIndex);
                });
            });

            // --- User Login Method Toggle ---
            const methodBtns = document.querySelectorAll('.method-btn');
            const uaepassLoginMethod = document.getElementById('uaepass-login-method');
            const passportLoginMethod = document.getElementById('passport-login-method');

            methodBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    methodBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    if (btn.dataset.method === 'uaepass') {
                        uaepassLoginMethod.classList.remove('hidden');
                        passportLoginMethod.classList.add('hidden');
                    } else {
                        uaepassLoginMethod.classList.add('hidden');
                        passportLoginMethod.classList.remove('hidden');
                    }
                });
            });

            // --- Login Form Logic ---
            const loginOptionBtns = document.querySelectorAll('.login-options .option-btn');
            const userLoginForm = document.getElementById('user-login-form');
            const businessLoginForm = document.getElementById('business-login-form');
            const employeeLoginForm = document.getElementById('employee-login-form');

            loginOptionBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    loginOptionBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    userLoginForm.classList.add('hidden');
                    businessLoginForm.classList.add('hidden');
                    employeeLoginForm.classList.add('hidden');

                    if (btn.dataset.form === 'user') userLoginForm.classList.remove('hidden');
                    else if (btn.dataset.form === 'business') businessLoginForm.classList.remove('hidden');
                    else if (btn.dataset.form === 'employee') employeeLoginForm.classList.remove('hidden');
                });
            });

            // --- Sign Up Form Logic ---
            const signupOptionBtns = document.querySelectorAll('.signup-options .option-btn');
            const userSignupForm = document.getElementById('user-signup-form');
            const businessSignupForm = document.getElementById('business-signup-form');
            const employeeSignupForm = document.getElementById('employee-signup-form');

            signupOptionBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    signupOptionBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    userSignupForm.classList.add('hidden');
                    businessSignupForm.classList.add('hidden');
                    employeeSignupForm.classList.add('hidden');

                    if (btn.dataset.form === 'user-signup') {
                        userSignupForm.classList.remove('hidden');
                    } else if (btn.dataset.form === 'business-signup') {
                        businessSignupForm.classList.remove('hidden');
                    } else if (btn.dataset.form === 'employee-signup') {
                        employeeSignupForm.classList.remove('hidden');
                    }
                });
            });

            // --- Reset Logic on Tab Change ---
            authSwiper.on('slideChange', function () {
                // Reset Login form to default state
                if (authSwiper.activeIndex === 0) {
                    loginOptionBtns.forEach(btn => btn.classList.remove('active'));
                    document.querySelector('.login-options .option-btn[data-form="user"]').classList.add('active');
                    userLoginForm.classList.remove('hidden');
                    businessLoginForm.classList.add('hidden');
                    employeeLoginForm.classList.add('hidden');
                    
                    // Reset user login method to UAE Pass
                    methodBtns.forEach(btn => btn.classList.remove('active'));
                    document.querySelector('.method-btn[data-method="uaepass"]').classList.add('active');
                    uaepassLoginMethod.classList.remove('hidden');
                    passportLoginMethod.classList.add('hidden');
                }
                // Reset Sign Up form to default state
                if (authSwiper.activeIndex === 1) {
                    signupOptionBtns.forEach(btn => btn.classList.remove('active'));
                    document.querySelector('.signup-options .option-btn[data-form="user-signup"]').classList.add('active');
                    userSignupForm.classList.remove('hidden');
                    businessSignupForm.classList.add('hidden');
                    employeeSignupForm.classList.add('hidden');
                }
            });

            // Set up language toggle button
            const langButton = document.getElementById('language-toggle');
            langButton.addEventListener('click', toggleLanguage);
            
            // Apply initial translations based on stored language
            applyTranslations();
        });

        // File upload handler
        function updateFileName(input, textElementId) {
            const textElement = document.getElementById(textElementId);
            if (input.files && input.files[0]) {
                const fileName = input.files[0].name;
                textElement.textContent = fileName;
                textElement.classList.add('has-file');
            } else {
                // Reset to original text based on the element ID
                const originalTexts = {
                    'trade-license-text': 'Upload Trade License Copy',
                    'business-registration-text': 'Upload Business Registration Certificate',
                    'owner-id-text': 'Upload Owner ID/Passport Copy'
                };
                textElement.textContent = originalTexts[textElementId] || 'Choose file...';
                textElement.classList.remove('has-file');
            }
        }

        // File upload handler
        function updateFileName(input, textElementId) {
            const textElement = document.getElementById(textElementId);
            if (input.files && input.files[0]) {
                const fileName = input.files[0].name;
                textElement.textContent = fileName;
                textElement.classList.add('has-file');
            } else {
                // Reset to original text based on the element ID
                const originalTexts = {
                    'trade-license-text': 'Upload Trade License Copy',
                    'business-registration-text': 'Upload Business Registration Certificate',
                    'owner-id-text': 'Upload Owner ID/Passport Copy'
                };
                textElement.textContent = originalTexts[textElementId] || 'Choose file...';
                textElement.classList.remove('has-file');
            }
        }
    </script>
</body>
</html>